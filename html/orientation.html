<html>
    <head>
        <title>Orientation</title>

        <style>
        </style>

        <script src='js/rdvp.js'></script>
        <script>



function Publish(val)
{
    document.getElementById("published").innerHTML = val;
    ws.send(val);
}

function OnVal(val)
{
    document.getElementById("range").innerHTML = val;
    Publish(val);
}


function OnOrientation(evt)
{
    document.getElementById("alpha").innerHTML = evt.alpha;
    document.getElementById("beta").innerHTML = evt.beta;
    document.getElementById("gamma").innerHTML = evt.gamma;

    Publish(evt.gamma);
}


function OnLoad()
{
    clientId = "CTL";
    password = "";
    connectToId = "SERVO";
    ws = RDVP_WebSocketThisHost("CC", clientId, password, connectToId);

    ws.onopen = function() {
        window.addEventListener('deviceorientation', OnOrientation, false);
    }
}

        </script>
    </head>

    <body onload='OnLoad();'>
        alpha: <span id='alpha'></span><br/>
        beta: <span id='beta'></span><br/>
        gamma: <span id='gamma'></span><br/>
        range: <span id='range'></span><br/> 
        published: <span id='published'></span><br/> 

        <input type='range' min='-90' max='90' step='1' value='0'
               oninput='OnVal(this.value);'
               onchange='OnVal(this.value);'></input>
    </body>
</html>









